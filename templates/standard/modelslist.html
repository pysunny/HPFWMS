{% extends 'base.html' %}
{% load staticfiles %}
{% block titlename %}HPFWMS-项目列表{% endblock titlename %}

{% block nav %}
    <div class="x-nav">
        <span class="layui-breadcrumb">
            <a href="">首页</a>
            <a href="">产品标准</a>
            <a><cite>标准型号</cite></a>
        </span>
        <a class="layui-btn layui-btn-small" style="line-height:1.6em;margin-top:3px;float:right" onclick="location.reload()" title="刷新">
            <i class="layui-icon layui-icon-refresh" style="line-height:30px"></i>
        </a>
    </div>
{% endblock nav %}
{# 网页主体上侧块 #}

{% block boby %}
    <div class="layui-fluid">
        <div class="layui-row layui-col-space15">
            <div class="layui-col-md12">
                <div class="layui-card">
                    <div class="layui-card-body ">
                        <table id="demo" lay-filter="test"></table>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock boby %}
{# 网页主体块 #}

{% block bottomfiles %}
    <script>
        layui.use('table', function(){
            var table = layui.table;
            table.render({
                elem: '#demo'
                ,height: 500
                ,url: "{% url 'standard:modelsdata' %}" //数据接口
                ,page: true //开启分页
                ,cols: [[ //表头
                    {field:'xieliehao', width:80, title: '序列号',type:'numbers'}
                    ,{field: 'name', title: '型号名称'}
                    ,{field: 'series', title: '系列名称'}
                    ,{field: 'desc', title: '型号描述'}
                    ,{field: 'bottom_seal', title: '底胶',templet:function(d){return d.bottom_seal =='1'?'有':'无'}}
                    ,{field: 'bottom_mechanism', title: '底撑',templet:function(d){return d.bottom_mechanism =='1'?'有':'无'}}
                    ,{field: 'bottom_clearance', title: '底部虚位'}
                    ,{field: 'basic_material', title: '基本板材'}
                    ,{field: 'steel_plate', title: '钢板'}
                    ,{field: 'rockwool', title: '岩棉',templet:function(d){return d.rockwool =='1'?'有':'无'}}
                    ,{field: 'top_seal', title: '底胶',templet:function(d){return d.top_seal =='1'?'有':'无'}}
                    ,{field: 'top_mechanism', title: '底撑',templet:function(d){return d.top_mechanism =='1'?'有':'无'}}
                    ,{field: 'top_clearance', title: '底部虚位'}
                    ,{fixed: 'right', title: '操作',width:200, align:'center', toolbar: '#barDemo'} 
                    ]]
                ,toolbar: '#toolbarDemo'
            });
        });
    </script>

    <!-- 操作列 -->
    <script type="text/html" id="barDemo">
        <a class="layui-btn layui-btn-xs" lay-event="detail">查看</a>
        <a class="layui-btn layui-btn-xs" lay-event="edit">编辑</a>
        <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>
    </script>

    <script type="text/html" id="toolbarDemo">
        <div class = "layui-btn-container" > 
            <button class = "layui-btn layui-btn-sm" lay-event = "getCheckData" onclick="xadmin.open('添加型号','{% url 'standard:modelsadd' %}',900,460)"> 添加型号 </button>
        </div > 
    </script>

    <script>layui.use('laydate',
        function() {
            var laydate = layui.laydate;

            //执行一个laydate实例
            laydate.render({
                elem: '#start' //指定元素
            });

            //执行一个laydate实例
            laydate.render({
                elem: '#end' //指定元素
            });

        });</script>

{% endblock bottomfiles %}
{# 网页底部引入块 #}